{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://genaptitude.local/schemas/v1/arcadia/metamodel/metamodel.schema.json",
  "title": "Arcadia Metamodel (Shared Definitions)",
  "type": "object",
  "$defs": {
    "Ref": {
      "title": "Reference",
      "description": "Référence unique vers un autre élément (URI ou UUID).",
      "$ref": "../../common/types/primitive-types.schema.json#/$defs/uriReference"
    },
    "RelationshipKind": {
      "type": "string",
      "enum": [
        "allocates",
        "refines",
        "realizes",
        "flowsTo",
        "dependsOn",
        "decomposes",
        "satisfies",
        "verifies",
        "tracesTo"
      ]
    },
    "Relationship": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "kind": {
          "$ref": "#/$defs/RelationshipKind"
        },
        "from": {
          "$ref": "#/$defs/Ref"
        },
        "to": {
          "$ref": "#/$defs/Ref"
        },
        "tags": {
          "type": "array",
          "items": {
            "$ref": "../../common/types/primitive-types.schema.json#/$defs/nonEmptyString"
          }
        },
        "summary": {
          "$ref": "../../common/types/primitive-types.schema.json#/$defs/i18nString"
        }
      },
      "required": ["kind", "from", "to"]
    },
    "BaseProperties": {
      "description": "Propriétés fonctionnelles communes à tous les éléments Arcadia.",
      "type": "object",
      "properties": {
        "xmi_id": {
          "$ref": "../../common/types/primitive-types.schema.json#/$defs/xmiId"
        },
        "name": {
          "$ref": "../../common/types/primitive-types.schema.json#/$defs/i18nString"
        },
        "summary": {
          "$ref": "../../common/types/primitive-types.schema.json#/$defs/i18nString"
        },
        "description": {
          "$ref": "../../common/types/primitive-types.schema.json#/$defs/i18nString"
        },
        "tags": {
          "type": "array",
          "items": {
            "$ref": "../../common/types/primitive-types.schema.json#/$defs/nonEmptyString"
          },
          "uniqueItems": true,
          "default": []
        },
        "propertyValues": {
          "type": "array",
          "items": {
            "$ref": "../../metamodel/metamodel.schema.json#/$defs/Ref"
          },
          "description": "Référence aux extensions PVMT (Property Values) attachées à cet élément."
        }
      },
      "required": ["name"]
    }
  }
}
